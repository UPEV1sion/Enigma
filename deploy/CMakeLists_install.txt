# Set the source and destination directories
set(SOURCE_LIB ${CMAKE_BINARY_DIR}libenigma.so)  # Path to libenigma.so in build
set(TARGET_DIR /opt/enigma/enigma_c)                    # Target installation directory

# Check if libenigma.so exists in the build directory
if(EXISTS ${SOURCE_LIB})
    # Copy the .so file to the target directory
    file(COPY ${SOURCE_LIB} DESTINATION ${TARGET_DIR})
    message(STATUS "libenigma.so successfully copied to ${TARGET_DIR}")
else()
    message(FATAL_ERROR "libenigma.so not found in ${SOURCE_LIB}")
endif()
